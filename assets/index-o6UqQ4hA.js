import{r as s,j as e}from"./index-03mpuTXX.js";const l=[{id:1,color:"bg-red-500",text:"Slide 1"},{id:2,color:"bg-blue-500",text:"Slide 2"},{id:3,color:"bg-green-500",text:"Slide 3"},{id:4,color:"bg-yellow-500",text:"Slide 4"}];function j(){const c=[l[l.length-1],...l,l[0]],[n,o]=s.useState(1),[b,i]=s.useState(!1),a=s.useRef(!1),[h,m]=s.useState(!1),u=s.useRef(null),d=c.length,f=s.useCallback(()=>{a.current||(i(!0),a.current=!0,o(t=>t+1))},[]),p=s.useCallback(()=>{a.current||(a.current=!0,i(!0),o(t=>t-1))},[]);s.useEffect(()=>{if(!h)return u.current=setInterval(()=>{f()},3e3),()=>{u.current&&clearInterval(u.current)}},[h,f]);const g=()=>{i(!1),a.current=!1,n===d-1?o(1):n===0&&o(d-2)},v=t=>{i(!0),o(t+1)};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 min-h-screen",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"无缝轮播图 Demo"}),e.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-xl aspect-video group",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsx("div",{className:"flex w-full h-full",style:{transform:`translateX(-${n*100}%)`,transition:b?"transform 500ms ease-in-out":"none"},onTransitionEnd:g,children:c.map((t,r)=>e.jsxs("div",{className:`min-w-full h-full flex items-center justify-center text-white text-4xl font-bold ${t.color}`,children:[t.text,(r===0||r===c.length-1)&&e.jsx("span",{className:"text-sm absolute bottom-4",children:"(Clone)"})]},`${t.id}-${r}`))}),e.jsx("button",{onClick:p,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"←"}),e.jsx("button",{onClick:f,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"→"}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:l.map((t,r)=>{let x=n-1;return n===0&&(x=l.length-1),n===d-1&&(x=0),e.jsx("button",{onClick:()=>v(r),className:`w-3 h-3 rounded-full transition-colors ${r===x?"bg-white":"bg-white/40"}`},r)})})]}),e.jsx("p",{className:"mt-4 text-center text-gray-500 text-sm",children:"提示：鼠标悬停在图片上可暂停轮播"})]})}export{j as default};
