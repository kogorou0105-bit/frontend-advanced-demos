import{c as $,r as o,j as e}from"./index-DwFIOpLM.js";import{N as D,C as V,a as U,Z as q,E as G,A as P,B as Y}from"./zap-SsDWNL4G.js";const Z=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J=$("settings",Z),S=1e4,c=50,I=500,d={SMART:{id:"smart",name:"Smart Hybrid",desc:"æ™ºèƒ½åˆ¤æ–­ï¼šè¿‘è·ç¦»å¹³æ»‘ï¼Œè¿œè·ç¦»çž¬ç§»",icon:e.jsx(Y,{size:16})},NATIVE:{id:"native",name:"Native Smooth",desc:"å¼ºåˆ¶åŽŸç”Ÿå¹³æ»‘ (ä»…ä½œå¯¹æ¯”)",icon:e.jsx(P,{size:16})},BLUR:{id:"blur",name:"Blur & Teleport",desc:"å¼ºåˆ¶æ¨¡ç³Šçž¬ç§» (èµ›åšé£Žæ ¼)",icon:e.jsx(G,{size:16})},FLASH:{id:"flash",name:"Flash Skip",desc:"åˆ†æ®µåŠ é€ŸåŠ¨ç”» (iOSé£Žæ ¼)",icon:e.jsx(q,{size:16})}},W=()=>{const[x]=o.useState(Array.from({length:S},(t,s)=>s)),[u,M]=o.useState(0),[h,A]=o.useState(""),[b,k]=o.useState(d.SMART.id),[C,v]=o.useState(!1),[y,n]=o.useState(null),l=o.useRef(null),E=Math.ceil(I/c)+4,L=x.length*c,j=Math.min(u+E,x.length),z=x.slice(u,j),B=u*c,R=t=>{const s=t.target.scrollTop,r=Math.floor(s/c);r!==u&&M(r)},g=t=>{if(!l.current)return;let s=0;if(t==="top"?s=0:t==="bottom"?s=x.length-1:s=parseInt(t,10),isNaN(s))return;s=Math.max(0,Math.min(s,x.length-1));const r=s*c,m=l.current.scrollTop,p=r-m,f=Math.floor(m/c),i=Math.abs(s-f);switch(b){case d.SMART.id:i<=100?(n(`è·ç¦» ${i} è¡Œ (â‰¤100) -> è§¦å‘å¹³æ»‘æ»šåŠ¨`),N(r)):(n(`è·ç¦» ${i} è¡Œ (>100) -> è§¦å‘æ¨¡ç³Šçž¬ç§»`),w(r));break;case d.NATIVE.id:n("å¼ºåˆ¶åŽŸç”Ÿå¹³æ»‘æ»šåŠ¨"),N(r);break;case d.BLUR.id:n("å¼ºåˆ¶æ¨¡ç³Šçž¬ç§»"),w(r);break;case d.FLASH.id:n("è§¦å‘åˆ†æ®µå¸§åŠ¨ç”»"),F(m,r,p);break;default:l.current.scrollTop=r}},N=t=>{l.current.scrollTo({top:t,behavior:"smooth"})},w=async t=>{v(!0),await new Promise(s=>setTimeout(s,200)),l.current.scrollTop=t,requestAnimationFrame(()=>{setTimeout(()=>{v(!1)},50)})},F=(t,s,r)=>{const m=performance.now(),p=800,f=Math.abs(r)>5e3,i=O=>{const H=O-m,a=Math.min(H/p,1),T=a<.5?4*a*a*a:1-Math.pow(-2*a+2,3)/2;if(f)if(a>.4&&a<.7){const _=t+r*.9;l.current.scrollTop=_}else l.current.scrollTop=t+r*T;else l.current.scrollTop=t+r*T;a<1?requestAnimationFrame(i):l.current.scrollTop=s};requestAnimationFrame(i)};return e.jsx("div",{className:"h-[calc(100vh-88px)] flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-4xl bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200 flex flex-col md:flex-row",children:[e.jsxs("div",{className:"w-full md:w-72 bg-gray-50 border-r border-gray-200 p-5 flex flex-col gap-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 flex items-center gap-2 mb-1",children:[e.jsx(J,{size:20,className:"text-gray-600"}),"æŽ§åˆ¶å°"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Total: ",S.toLocaleString()," Items"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Scroll Strategy"}),e.jsx("div",{className:"flex flex-col gap-2",children:Object.values(d).map(t=>e.jsxs("button",{onClick:()=>{k(t.id),n(null)},className:`flex items-start gap-3 p-3 rounded-lg text-left transition-all border ${b===t.id?"bg-white border-blue-500 shadow-md ring-1 ring-blue-500":"bg-white border-gray-200 hover:border-blue-300 hover:bg-blue-50"}`,children:[e.jsx("div",{className:`mt-1 ${b===t.id?"text-blue-600":"text-gray-400"}`,children:t.icon}),e.jsxs("div",{children:[e.jsx("div",{className:`text-sm font-bold ${b===t.id?"text-blue-700":"text-gray-700"}`,children:t.name}),e.jsx("div",{className:"text-xs text-gray-500 mt-0.5 leading-tight",children:t.desc})]})]},t.id))})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Navigation"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"text-[10px] text-gray-400 mb-1",children:"å°è¯•è¾“å…¥å½“å‰ Index Â±50 å’Œ Â±500 çš„å€¼ä½“éªŒåŒºåˆ«"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Target Index...",value:h,onChange:t=>A(t.target.value),onKeyDown:t=>t.key==="Enter"&&g(h),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>g(h),className:"px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:e.jsx(D,{size:18})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxs("button",{onClick:()=>g("top"),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-md text-sm text-gray-600 hover:text-blue-600 hover:border-blue-500",children:[e.jsx(V,{size:16})," Top"]}),e.jsxs("button",{onClick:()=>g("bottom"),className:"flex items-center justify-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-md text-sm text-gray-600 hover:text-blue-600 hover:border-blue-500",children:[e.jsx(U,{size:16})," Bottom"]})]})]})]})]}),e.jsxs("div",{className:"flex-1 relative bg-white h-[600px] md:h-auto flex flex-col",children:[e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex flex-col items-end gap-2 pointer-events-none",children:[e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur text-white px-3 py-1.5 rounded-full text-xs font-mono shadow-lg",children:["View: ",u," - ",j]}),y&&e.jsx("div",{className:"bg-blue-600/90 backdrop-blur text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-lg animate-fade-in-down",children:y})]}),e.jsx("div",{className:"flex-1 p-6 overflow-hidden",children:e.jsxs("div",{ref:l,onScroll:R,style:{height:I},className:`
                relative overflow-auto border border-gray-200 rounded-xl shadow-inner bg-gray-50
                transition-all duration-300 ease-in-out custom-scrollbar
                ${C?"opacity-40 blur-[2px] scale-95":"opacity-100 blur-0 scale-100"}
              `,children:[e.jsx("div",{style:{height:L,position:"absolute",width:"100%",zIndex:-1}}),e.jsx("div",{style:{transform:`translateY(${B}px)`},children:z.map(t=>e.jsxs("div",{className:`
                      flex items-center px-6 h-[50px] border-b border-gray-200 transition-colors
                      ${t===parseInt(h)?"bg-blue-100":"bg-white hover:bg-blue-50"}
                    `,children:[e.jsxs("span",{className:"w-16 font-mono text-gray-400 font-bold",children:["#",t]}),e.jsx("span",{className:"text-sm text-gray-700",children:t===parseInt(h)?"ðŸŽ¯ Target Item Found":"Virtual List Item"})]},t))})]})})]})]})})};export{W as default};
