import{r as l,j as e}from"./index-DwFIOpLM.js";const o=[{id:1,color:"bg-red-500",text:"Slide 1"},{id:2,color:"bg-blue-500",text:"Slide 2"},{id:3,color:"bg-green-500",text:"Slide 3"},{id:4,color:"bg-yellow-500",text:"Slide 4"}];function w(){const c=[o[o.length-1],...o,o[0]],[n,r]=l.useState(1),[a,i]=l.useState(!1),[h,m]=l.useState(!1),u=l.useRef(null),d=c.length,x=l.useCallback(()=>{a||(i(!0),r(t=>t+1))},[a]),b=l.useCallback(()=>{a||(i(!0),r(t=>t-1))},[a]);l.useEffect(()=>{if(!h)return u.current=setInterval(()=>{x()},3e3),()=>{u.current&&clearInterval(u.current)}},[h,x]);const p=()=>{i(!1),n===d-1?r(1):n===0&&r(d-2)},g=t=>{i(!0),r(t+1)};return e.jsxs("div",{className:"max-w-2xl mx-auto p-6 min-h-screen",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"无缝轮播图 Demo"}),e.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-xl aspect-video group",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsx("div",{className:"flex w-full h-full",style:{transform:`translateX(-${n*100}%)`,transition:a?"transform 500ms ease-in-out":"none"},onTransitionEnd:p,children:c.map((t,s)=>e.jsxs("div",{className:`min-w-full h-full flex items-center justify-center text-white text-4xl font-bold ${t.color}`,children:[t.text,(s===0||s===c.length-1)&&e.jsx("span",{className:"text-sm absolute bottom-4",children:"(Clone)"})]},`${t.id}-${s}`))}),e.jsx("button",{onClick:b,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"←"}),e.jsx("button",{onClick:x,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/50 text-white p-2 rounded-full backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity",children:"→"}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2",children:o.map((t,s)=>{let f=n-1;return n===0&&(f=o.length-1),n===d-1&&(f=0),e.jsx("button",{onClick:()=>g(s),className:`w-3 h-3 rounded-full transition-colors ${s===f?"bg-white":"bg-white/40"}`},s)})})]}),e.jsx("p",{className:"mt-4 text-center text-gray-500 text-sm",children:"提示：鼠标悬停在图片上可暂停轮播"})]})}export{w as default};
