import{c as r,r as x,j as e}from"./index-03mpuTXX.js";import{I as k}from"./image-DY1kTid7.js";const y=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],g=r("bold",y);const b=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],j=r("code",b);const v=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],C=r("italic",v);const w=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],M=r("link",w);const N=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_=r("list",N);const L=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],z=r("redo",L);const E=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],I=r("type",E);const B=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],T=r("underline",B);const $=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],H=r("undo",$),S=s=>{if(!s)return"";const m=new Set(["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","li","main","nav","noscript","ol","p","pre","section","table","tfoot","ul","video","body","html","head"]),h="  ";let n="",a=0;const d=o=>{const u=o.match(/^<\/?([a-z0-9]+)/i);return u&&m.has(u[1].toLowerCase())},p=s.replace(/>\s+</g,"><").trim().split(/(<[^>]+>)/g).filter(Boolean);return p.forEach((o,u)=>{const l=p[u-1];o.match(/^<\//)?d(o)?(a=Math.max(0,a-1),l&&(d(l)||l.match(/>$/))&&l.match(/^<\//)&&d(l)?n+=`
`+h.repeat(a)+o:n+=o):n+=o:o.match(/^<[^]/)&&d(o)?(n.length>0&&(n+=`
`),n+=h.repeat(a)+o,o.match(/\/>$/)||o.match(/^<(br|hr|img|input|meta|link)/i)||a++):n+=o}),n.trim()},c=({onClick:s,isActive:m,children:h,title:n})=>e.jsx("button",{onClick:s,title:n,onMouseDown:a=>a.preventDefault(),className:`p-2 rounded hover:bg-gray-100 transition-colors ${m?"bg-gray-200 text-blue-600":"text-gray-600"}`,children:h});function A(){const s=x.useRef(null),[m,h]=x.useState("<p><br/></p>"),[n,a]=x.useState({});x.useEffect(()=>{s.current&&(s.current.innerHTML="<p><br/></p>")},[]);const d=()=>{s.current&&(h(s.current.innerHTML),l())},i=(t,f=null)=>{document.execCommand(t,!1,f),s.current&&(s.current.focus(),l(),d())},p=()=>{n.block==="pre"?i("formatBlock","P"):i("formatBlock","PRE")},o=()=>{const t=window.prompt("Enter URL:");t&&i("createLink",t)},u=()=>{const t=window.prompt("Enter Image URL:");t&&i("insertImage",t)},l=()=>{const t={};document.queryCommandState("bold")&&(t.bold=!0),document.queryCommandState("italic")&&(t.italic=!0),document.queryCommandState("underline")&&(t.underline=!0),document.queryCommandState("insertUnorderedList")&&(t.list=!0);const f=document.queryCommandValue("formatBlock");t.block=f?f.toLowerCase():"",a(t)};return x.useEffect(()=>{const t=()=>l();return document.addEventListener("selectionchange",t),()=>{document.removeEventListener("selectionchange",t)}},[]),e.jsxs("div",{className:"max-w-4xl mx-auto p-6 min-h-screen flex flex-col gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-100 bg-gray-50/50 flex-wrap",children:[e.jsx(c,{onClick:()=>i("undo"),title:"Undo (Ctrl+Z)",children:e.jsx(H,{size:18})}),e.jsx(c,{onClick:()=>i("redo"),title:"Redo (Ctrl+Y)",children:e.jsx(z,{size:18})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx(c,{onClick:()=>i("formatBlock","H2"),isActive:n.block==="h2",title:"Heading",children:e.jsx(I,{size:18})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx(c,{onClick:()=>i("bold"),isActive:n.bold,title:"Bold",children:e.jsx(g,{size:18})}),e.jsx(c,{onClick:()=>i("italic"),isActive:n.italic,title:"Italic",children:e.jsx(C,{size:18})}),e.jsx(c,{onClick:()=>i("underline"),isActive:n.underline,title:"Underline",children:e.jsx(T,{size:18})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx(c,{onClick:()=>i("insertUnorderedList"),isActive:n.list,title:"List",children:e.jsx(_,{size:18})}),e.jsx(c,{onClick:p,isActive:n.block==="pre",title:"Code Block",children:e.jsx(j,{size:18})}),e.jsx("div",{className:"w-px h-5 bg-gray-300 mx-1"}),e.jsx(c,{onClick:o,title:"Insert Link",children:e.jsx(M,{size:18})}),e.jsx(c,{onClick:u,title:"Insert Image",children:e.jsx(k,{size:18})})]}),e.jsx("div",{ref:s,className:"p-6 min-h-[300px] outline-none max-w-none rich-editor-content [&_a]:text-blue-600 [&_a]:underline [&_img]:max-w-full [&_img]:rounded-lg [&_img]:my-4",contentEditable:!0,onInput:d,onKeyDown:t=>{if(t.key==="Tab"&&(t.preventDefault(),i("insertText","    ")),t.key==="Enter"&&n.block==="pre"){if(t.shiftKey)return;t.preventDefault(),i("insertText",`
`)}},suppressContentEditableWarning:!0})]}),e.jsxs("div",{className:"bg-gray-900 rounded-xl p-4 shadow-inner text-gray-300 font-mono text-sm overflow-x-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("div",{className:"text-gray-500 uppercase text-xs font-bold tracking-wider",children:"HTML Output (Formatted)"}),e.jsxs("div",{className:"text-xs text-gray-600",children:[m.length," chars"]})]}),e.jsx("div",{className:"whitespace-pre",children:S(m)})]})]})}export{A as default};
